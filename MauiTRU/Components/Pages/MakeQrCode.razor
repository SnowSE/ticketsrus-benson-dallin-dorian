@page "/makeqrcode"
@using Net.Codecrete.QrCodeGenerator
@using System.Text

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>
<input @bind-value=codeValue />
<button @onclick=makeCode>Make Code</button>
<img src="@svgString" width="500px"/>

Welcome to your new app.

@code {
    string svgString;
    string codeValue = "default value";

    void makeCode()
    {
        var qr = QrCode.EncodeText(codeValue, QrCode.Ecc.High);
        svgString = $"data:image/svg+xml;base64,{Convert.ToBase64String(Encoding.UTF8.GetBytes(qr.ToSvgString(4)))}";
    }
}